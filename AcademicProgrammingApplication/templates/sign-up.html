{% extends "layouts/base-with-footer.html" %}

{% load static %}

<!-- Title of the page -->
{% block tittle-container %}
Sign up
{% endblock %}

{% block largest-container-content %}
<!-- Import Bootstrap CSS for styling -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="{% static '/styles/role-management.css' %}">

<!-- Form for user registration -->
<div class="col-md-4 offset-md-4 pt-2">
    <h2 class="text-center">Registro de Usuarios</h2>
    <form id="registrationForm" method="POST" class="card border-0">
        <br>
        <!-- Display error message if applicable -->
        {% if error is not None %}
        <div class="alert alert-primary" role="alert">
            {{ error }}
        </div>
        {% endif %}
        <!-- CSRF token for security -->
        {% csrf_token %}
        <!-- Input field for username -->
        <div class="mb-2">
            <label for="username">Nombre de usuario</label>
            <input type="text" name="username" id="username" class="form-control"
                   placeholder="Ingrese el nombre de usuario">
        </div>
        <div class="mb-2">
            <label for="first_name">Nombre completo del empleado</label>
            <div class="input-group mb-2">
                <input type="text" name="first_name" class="form-control" placeholder="Nombre(s)"
                       aria-label="Username" id="first_name">
                <input type="text" name="last_name" class="form-control" placeholder="Apellidos"
                       aria-label="Server" id="last_name">
            </div>
        </div>
        <!-- Input field for email -->
        <div class="mb-2">
            <label for="email">Correo electrónico</label>
            <input type="text" name="email" id="email" class="form-control"
                   placeholder="Ingrese el correo electrónico del empleado">
        </div>
        <!-- Input fields for password -->
        <div class="mb-2">
            <label>Contraseña</label>
            <div class="input-group mb-2">
                <input type="password" name="password1" class="form-control" placeholder="Ingrese la contraseña"
                       aria-label="Username">
                <input type="password" name="password2" class="form-control" placeholder="Confirme la contraseña"
                       aria-label="Server">
            </div>
        </div>
        <div class="input-group mb-2">
            <label class="input-group-text">Rol</label>
            <input type="radio" class="btn-check" name="role" id="radio_btn_1" autocomplete="off"
                   value="Líder de procesos" checked>
            <label class="btn" for="radio_btn_1">Líder de procesos</label>
            <input type="radio" class="btn-check" name="role" id="radio_btn_2" autocomplete="off"
                   value="Asistente de procesos">
            <label class="btn form-control" for="radio_btn_2">Asistente de procesos</label>
        </div>
    </form>
    <!-- Buttons for login and registration -->
    <div class="row align-items-start text-center mt-4">
        <!-- Button to navigate to login page -->
        <div class="col"><a href="{% url 'role_management' %}">
            <button class="btn btn-secondary w-100">
                Regresar
            </button>
        </a>
        </div>
        <!-- Button to submit registration form -->
        <div class="col">
            <button id="registrationButton" class="btn btn-primary w-100">
                Registrar
            </button>
        </div>
    </div>
</div>
<!-- Script to submit registration form when 'Sign up' button is clicked -->
<script>
    document.getElementById('registrationButton').addEventListener('click', function () {
        document.getElementById('registrationForm').submit();
    });
</script>

{% endblock %}
